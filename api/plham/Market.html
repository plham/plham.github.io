<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_51) on Fri Apr 01 15:07:19 JST 2016 -->
<title>Market</title>
<meta name="date" content="2016-04-01">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Market";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":10,"i56":10,"i57":10,"i58":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../plham/Main.html" title="class in plham"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../plham/Market.AgentUpdate.html" title="class in plham"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?plham/Market.html" target="_top">Frames</a></li>
<li><a href="Market.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">plham</div>
<h2 title="Class Market" class="title">Class Market</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>plham.Market</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../plham/IndexMarket.html" title="class in plham">IndexMarket</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Market</span></pre>
<div class="block">The base class of markets.
A continuous double auction mechanism is implemented.

<p><ul>
<li> Override <code>handleOrders(List[Order])</code> and <code>handleOrder(Order)</code> to implement a matching mechanism.
<li> The price of every order will be rounded in increments of a tick size (in <code>handleOrder(Order)</code>).
<li> Market orders never be added onto the orderbooks (in the current implementation).
<li> Do not call <code>handleOrders(List[Order])</code> family in <code>Agent#submitOrders(List[Market])</code>.
<li> Do not access to the fields as much as possible; Use the corresponding methods if exist.
</ul>

<p>On events, it currently supports four places to register.
<p><ul>
<li> beforeSimulationStep: Called once before a simulation step (once each step)
<li>  afterSimulationStep: Called once  after a simulation step (once each step)
<li> beforeOrderHandling: Called every before handling an order (once per order)
<li>  afterOrderHandling: Called every  after handling an order (once per order)
</ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.ExecutionLog.html" title="class in plham">Market.ExecutionLog</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a></span></code></td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#NO_TICKSIZE">NO_TICKSIZE</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static Fun_0_2 &lt;Double,Double,Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#ROUND_LOWER">ROUND_LOWER</a></span></code>
<div class="block"><B>Field Type</B>: <TT>(Double,Double)=>Double</TT>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static Fun_0_2 &lt;Double,Double,Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#ROUND_UPPER">ROUND_UPPER</a></span></code>
<div class="block"><B>Field Type</B>: <TT>(Double,Double)=>Double</TT>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#Z:Z_isRunning">_isRunning</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#afterOrderHandlingEvents">afterOrderHandlingEvents</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>List&lt;<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#afterSimulationStepEvents">afterSimulationStepEvents</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;List&lt;<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#agentUpdates">agentUpdates</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>List&lt;<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#beforeOrderHandlingEvents">beforeOrderHandlingEvents</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#beforeSimulationStepEvents">beforeSimulationStepEvents</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../plham/OrderBook.html" title="class in plham">OrderBook</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#buyOrderBook">buyOrderBook</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#buyOrdersCounts">buyOrdersCounts</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../plham/Env.html" title="class in plham">Env</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#env">env</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executedOrdersCounts">executedOrdersCounts</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>List&lt;List&lt;<a href="../plham/Market.ExecutionLog.html" title="class in plham">Market.ExecutionLog</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executionLogs">executionLogs</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#fundamentalPrices">fundamentalPrices</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#id">id</a></span></code>
<div class="block">The id of this market assigned by the system.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#lastExecutedPrices">lastExecutedPrices</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>List&lt;Double&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#marketPrices">marketPrices</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#name">name</a></span></code>
<div class="block">The JSON object name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#outstandingShares">outstandingShares</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>Random</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#random">random</a></span></code>
<div class="block">The RNG given by the system (DON'T CHANGE IT).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../plham/OrderBook.html" title="class in plham">OrderBook</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#sellOrderBook">sellOrderBook</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>List&lt;Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#sellOrdersCounts">sellOrdersCounts</a></span></code></td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#tickSize">tickSize</a></span></code></td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../plham/Time.html" title="class in plham">Time</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#time">time</a></span></code>
<div class="block">NOTE: Use <code>getTime()</code> instead.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../plham/Market.html#Market-id:Long-">Market</a></span>(Long&nbsp;id)</code></td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../plham/Market.html#Market--">Market</a></span>()</code></td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#addAfterOrderHandlingEvent-plham.Market.OrderEvent-">addAfterOrderHandlingEvent</a></span>(<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&nbsp;e)</code></td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#addAfterSimulationStepEvent-plham.Market.MarketEvent-">addAfterSimulationStepEvent</a></span>(<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&nbsp;e)</code></td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#addBeforeOrderHandlingEvent-plham.Market.OrderEvent-">addBeforeOrderHandlingEvent</a></span>(<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&nbsp;e)</code></td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#addBeforeSimulationStepEvent-plham.Market.MarketEvent-">addBeforeSimulationStepEvent</a></span>(<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&nbsp;e)</code></td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#check--">check</a></span>()</code></td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#cleanOrderBooks-Double-">cleanOrderBooks</a></span>(Double&nbsp;basePrice)</code>
<div class="block">Remove all buy orders above the <code>basePrice</code> and all sell orders below the <code>basePrice</code>
as well as all expired and no-volume orders.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executeAgentUpdate-Listplham.Agent:A-plham.Market.AgentUpdate-">executeAgentUpdate</a></span>(List&lt;<a href="../plham/Agent.html" title="class in plham">Agent</a>&gt;&nbsp;agents,
                  <a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&nbsp;update)</code></td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executeAgentUpdates-Listplham.Agent:A-Listplham.Market.AgentUpdate:A-">executeAgentUpdates</a></span>(List&lt;<a href="../plham/Agent.html" title="class in plham">Agent</a>&gt;&nbsp;agents,
                   List&lt;<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&gt;&nbsp;updates)</code></td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executeBuyOrders-plham.Order-plham.Order-">executeBuyOrders</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder,
                <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</code></td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executeOrders-Double-plham.Order-plham.Order-Boolean-">executeOrders</a></span>(Double&nbsp;price,
             <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder,
             <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder,
             Boolean&nbsp;isSellMajor)</code>
<div class="block">Exchange the cash and assets between the buyer and seller.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#executeSellOrders-plham.Order-plham.Order-">executeSellOrders</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder,
                 <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</code></td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getBestBuyPrice--">getBestBuyPrice</a></span>()</code>
<div class="block">Get the best (highest) buy/bid price.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getBestSellPrice--">getBestSellPrice</a></span>()</code>
<div class="block">Get the best (lowest) sell/ask price.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../plham/OrderBook.html" title="type parameter in OrderBook">OrderBook</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getBuyOrderBook--">getBuyOrderBook</a></span>()</code>
<div class="block"><B>Declaration:</B> <TT>getBuyOrderBook():plham.OrderBook.</TT>
</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getFundamentalPrice--">getFundamentalPrice</a></span>()</code></td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getFundamentalPrice-Long-">getFundamentalPrice</a></span>(Long&nbsp;t)</code></td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getMarketPrice--">getMarketPrice</a></span>()</code></td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getMarketPrice-Long-">getMarketPrice</a></span>(Long&nbsp;t)</code></td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getMidPrice--">getMidPrice</a></span>()</code>
<div class="block">Get the mid price, the average (middle) of the best buy/bid and sell/ask prices.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getNextMarketPrice--">getNextMarketPrice</a></span>()</code>
<div class="block">Return the next market price at t + 1.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getOutstandingShares--">getOutstandingShares</a></span>()</code></td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getPrice--">getPrice</a></span>()</code></td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getPrice-Long-">getPrice</a></span>(Long&nbsp;t)</code></td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>Random</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getRandom--">getRandom</a></span>()</code></td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../plham/OrderBook.html" title="type parameter in OrderBook">OrderBook</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getSellOrderBook--">getSellOrderBook</a></span>()</code>
<div class="block"><B>Declaration:</B> <TT>getSellOrderBook():plham.OrderBook.</TT>
</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getTickSize--">getTickSize</a></span>()</code>
<div class="block"><B>Declaration:</B> <TT>getTickSize():Double.</TT>
See also <code>roundPrice()</code>.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#getTime--">getTime</a></span>()</code>
<div class="block"><B>Declaration:</B> <TT>getTime():Long.</TT>
</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleAgentUpdate-plham.Market.AgentUpdate-">handleAgentUpdate</a></span>(<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&nbsp;update)</code></td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleBuyLimitOrder-plham.Order-">handleBuyLimitOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</code></td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleBuyMarketOrder-plham.Order-">handleBuyMarketOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</code></td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleBuyOrder-plham.Order-">handleBuyOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code></td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleOrder-plham.Order-">handleOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code>
<div class="block">Handle orders from some agents.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleOrders-Listplham.Order:A-">handleOrders</a></span>(List&lt;<a href="../plham/Order.html" title="class in plham">Order</a>&gt;&nbsp;orders)</code>
<div class="block">Handle orders from some agents.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleSellLimitOrder-plham.Order-">handleSellLimitOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</code></td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleSellMarketOrder-plham.Order-">handleSellMarketOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</code></td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#handleSellOrder-plham.Order-">handleSellOrder</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code></td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#isRunning--">isRunning</a></span>()</code>
<div class="block">Whether this market is open or not (closed).</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#roundBuyPrice-Double-">roundBuyPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code><a href="../plham/Order.html" title="class in plham">Order</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#roundPrice-plham.Order-">roundPrice</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code>
<div class="block">Round the price of the order in increments of a tick size.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#roundSellPrice-Double-">roundSellPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setId-Long-">setId</a></span>(Long&nbsp;id)</code>
<div class="block"><B>Declaration:</B> <TT>setId(id:Long):Long.</TT>
For system use only.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setInitialFundamentalPrice-Double-">setInitialFundamentalPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setInitialMarketPrice-Double-">setInitialMarketPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setName-String-">setName</a></span>(String&nbsp;name)</code>
<div class="block"><B>Declaration:</B> <TT>setName(name:String):String.</TT>
For system use only.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setOutstandingShares-Long-">setOutstandingShares</a></span>(Long&nbsp;outstandingShares)</code>
<div class="block"><B>Declaration:</B> <TT>setOutstandingShares(outstandingShares:Long):Long.</TT>
</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>Random</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setRandom-Random-">setRandom</a></span>(Random&nbsp;random)</code>
<div class="block">For system use only.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>Boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setRunning-Boolean-">setRunning</a></span>(Boolean&nbsp;isRunning)</code>
<div class="block"><B>Declaration:</B> <TT>setRunning(isRunning:Boolean):Boolean.</TT>
</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>Double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setTickSize-Double-">setTickSize</a></span>(Double&nbsp;tickSize)</code>
<div class="block"><B>Declaration:</B> <TT>setTickSize(tickSize:Double):Double.</TT>
Note: <code>tickSize &lt;= 0.0</code> means no tick size.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#setTime-Long-">setTime</a></span>(Long&nbsp;time)</code>
<div class="block"><B>Declaration:</B> <TT>setTime(time:Long):Long.</TT>
</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#tickUpdateMarketPrice--">tickUpdateMarketPrice</a></span>()</code></td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#triggerAfterOrderHandlingEvents-plham.Order-">triggerAfterOrderHandlingEvents</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code></td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#triggerAfterSimulationStepEvents--">triggerAfterSimulationStepEvents</a></span>()</code></td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#triggerBeforeOrderHandlingEvents-plham.Order-">triggerBeforeOrderHandlingEvents</a></span>(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</code></td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#triggerBeforeSimulationStepEvents--">triggerBeforeSimulationStepEvents</a></span>()</code></td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#updateFundamentalPrice-Double-">updateFundamentalPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#updateMarketPrice--">updateMarketPrice</a></span>()</code></td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#updateMarketPrice-Double-">updateMarketPrice</a></span>(Double&nbsp;price)</code></td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#updateOrderBooks--">updateOrderBooks</a></span>()</code>
<div class="block">Remove all expired and no-volume orders.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>Long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../plham/Market.html#updateTime--">updateTime</a></span>()</code>
<div class="block"><B>Declaration:</B> <TT>updateTime():Long.</TT>
</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="id">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>id</h4>
<pre>public&nbsp;Long id</pre>
<div class="block">The id of this market assigned by the system. DON'T CHANGE IT.</div>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public&nbsp;String name</pre>
<div class="block">The JSON object name. DON'T CHANGE IT.</div>
</li>
</ul>
<a name="random">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>random</h4>
<pre>public&nbsp;Random random</pre>
<div class="block">The RNG given by the system (DON'T CHANGE IT).</div>
</li>
</ul>
<a name="Z:Z_isRunning">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_isRunning</h4>
<pre>public&nbsp;Boolean _isRunning</pre>
</li>
</ul>
<a name="buyOrderBook">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buyOrderBook</h4>
<pre>public&nbsp;<a href="../plham/OrderBook.html" title="class in plham">OrderBook</a> buyOrderBook</pre>
</li>
</ul>
<a name="sellOrderBook">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sellOrderBook</h4>
<pre>public&nbsp;<a href="../plham/OrderBook.html" title="class in plham">OrderBook</a> sellOrderBook</pre>
</li>
</ul>
<a name="outstandingShares">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outstandingShares</h4>
<pre>public&nbsp;Long outstandingShares</pre>
</li>
</ul>
<a name="time">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>time</h4>
<pre>public&nbsp;<a href="../plham/Time.html" title="class in plham">Time</a> time</pre>
<div class="block">NOTE: Use <code>getTime()</code> instead.</div>
</li>
</ul>
<a name="env">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>env</h4>
<pre>public&nbsp;<a href="../plham/Env.html" title="class in plham">Env</a> env</pre>
</li>
</ul>
<a name="tickSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tickSize</h4>
<pre>public&nbsp;Double tickSize</pre>
</li>
</ul>
<a name="NO_TICKSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NO_TICKSIZE</h4>
<pre>public final&nbsp;Double NO_TICKSIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#plham.Market.NO_TICKSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ROUND_UPPER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROUND_UPPER</h4>
<pre>public static final&nbsp;Fun_0_2 &lt;Double,Double,Double&gt; ROUND_UPPER</pre>
<div class="block"><B>Field Type</B>: <TT>(Double,Double)=>Double</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="ROUND_LOWER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROUND_LOWER</h4>
<pre>public static final&nbsp;Fun_0_2 &lt;Double,Double,Double&gt; ROUND_LOWER</pre>
<div class="block"><B>Field Type</B>: <TT>(Double,Double)=>Double</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="marketPrices">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>marketPrices</h4>
<pre>public&nbsp;List&lt;Double&gt; marketPrices</pre>
</li>
</ul>
<a name="fundamentalPrices">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fundamentalPrices</h4>
<pre>public&nbsp;List&lt;Double&gt; fundamentalPrices</pre>
</li>
</ul>
<a name="lastExecutedPrices">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastExecutedPrices</h4>
<pre>public&nbsp;List&lt;Double&gt; lastExecutedPrices</pre>
</li>
</ul>
<a name="buyOrdersCounts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buyOrdersCounts</h4>
<pre>public&nbsp;List&lt;Long&gt; buyOrdersCounts</pre>
</li>
</ul>
<a name="sellOrdersCounts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sellOrdersCounts</h4>
<pre>public&nbsp;List&lt;Long&gt; sellOrdersCounts</pre>
</li>
</ul>
<a name="executedOrdersCounts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executedOrdersCounts</h4>
<pre>public&nbsp;List&lt;Long&gt; executedOrdersCounts</pre>
</li>
</ul>
<a name="executionLogs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executionLogs</h4>
<pre>public&nbsp;List&lt;List&lt;<a href="../plham/Market.ExecutionLog.html" title="class in plham">Market.ExecutionLog</a>&gt;&gt; executionLogs</pre>
</li>
</ul>
<a name="agentUpdates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>agentUpdates</h4>
<pre>public&nbsp;List&lt;List&lt;<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&gt;&gt; agentUpdates</pre>
</li>
</ul>
<a name="beforeOrderHandlingEvents">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeOrderHandlingEvents</h4>
<pre>public&nbsp;List&lt;<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&gt; beforeOrderHandlingEvents</pre>
</li>
</ul>
<a name="afterOrderHandlingEvents">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterOrderHandlingEvents</h4>
<pre>public&nbsp;List&lt;<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&gt; afterOrderHandlingEvents</pre>
</li>
</ul>
<a name="beforeSimulationStepEvents">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeSimulationStepEvents</h4>
<pre>public&nbsp;List&lt;<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&gt; beforeSimulationStepEvents</pre>
</li>
</ul>
<a name="afterSimulationStepEvents">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>afterSimulationStepEvents</h4>
<pre>public&nbsp;List&lt;<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&gt; afterSimulationStepEvents</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Market-id:Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Market</h4>
<pre>public&nbsp;Market(Long&nbsp;id)</pre>
</li>
</ul>
<a name="Market--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Market</h4>
<pre>public&nbsp;Market()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setId-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setId</h4>
<pre>public&nbsp;Long&nbsp;setId(Long&nbsp;id)</pre>
<div class="block"><B>Declaration:</B> <TT>setId(id:Long):Long.</TT><PRE>
</PRE>For system use only.</div>
</li>
</ul>
<a name="setName-String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;String&nbsp;setName(String&nbsp;name)</pre>
<div class="block"><B>Declaration:</B> <TT>setName(name:String):String.</TT><PRE>
</PRE>For system use only.</div>
</li>
</ul>
<a name="getRandom--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRandom</h4>
<pre>public&nbsp;Random&nbsp;getRandom()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An instance of Random (derived from the root).</dd>
</dl>
</li>
</ul>
<a name="setRandom-Random-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRandom</h4>
<pre>public&nbsp;Random&nbsp;setRandom(Random&nbsp;random)</pre>
<div class="block">For system use only.</div>
</li>
</ul>
<a name="handleOrders-Listplham.Order:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleOrders</h4>
<pre>public&nbsp;void&nbsp;handleOrders(List&lt;<a href="../plham/Order.html" title="class in plham">Order</a>&gt;&nbsp;orders)</pre>
<div class="block">Handle orders from some agents.
This method will be invoked by the system.
The list of orders may include those of other markets (please skip them).
The primary task, order matching, should be done in <code>handleOrder(Order)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orders</code> - a list of orders.</dd>
</dl>
</li>
</ul>
<a name="handleOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleOrder</h4>
<pre>public&nbsp;void&nbsp;handleOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
<div class="block">Handle orders from some agents.
This method will be invoked by the system.
The primary task, order matching, should be done here.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>orders</code> - an order to this market.</dd>
</dl>
</li>
</ul>
<a name="handleBuyOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBuyOrder</h4>
<pre>protected&nbsp;void&nbsp;handleBuyOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
</li>
</ul>
<a name="handleSellOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSellOrder</h4>
<pre>protected&nbsp;void&nbsp;handleSellOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
</li>
</ul>
<a name="handleBuyLimitOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBuyLimitOrder</h4>
<pre>protected&nbsp;void&nbsp;handleBuyLimitOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</pre>
</li>
</ul>
<a name="handleSellLimitOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSellLimitOrder</h4>
<pre>protected&nbsp;void&nbsp;handleSellLimitOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</pre>
</li>
</ul>
<a name="handleBuyMarketOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleBuyMarketOrder</h4>
<pre>protected&nbsp;void&nbsp;handleBuyMarketOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</pre>
</li>
</ul>
<a name="handleSellMarketOrder-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleSellMarketOrder</h4>
<pre>protected&nbsp;void&nbsp;handleSellMarketOrder(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</pre>
</li>
</ul>
<a name="updateOrderBooks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateOrderBooks</h4>
<pre>public&nbsp;void&nbsp;updateOrderBooks()</pre>
<div class="block">Remove all expired and no-volume orders.</div>
</li>
</ul>
<a name="cleanOrderBooks-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanOrderBooks</h4>
<pre>public&nbsp;void&nbsp;cleanOrderBooks(Double&nbsp;basePrice)</pre>
<div class="block">Remove all buy orders above the <code>basePrice</code> and all sell orders below the <code>basePrice</code>
as well as all expired and no-volume orders.</div>
</li>
</ul>
<a name="isRunning--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;Boolean&nbsp;isRunning()</pre>
<div class="block">Whether this market is open or not (closed).
If false (closed), this market does not execute orders;
just placing orders on the orderbooks.</div>
</li>
</ul>
<a name="setRunning-Boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRunning</h4>
<pre>public&nbsp;Boolean&nbsp;setRunning(Boolean&nbsp;isRunning)</pre>
<div class="block"><B>Declaration:</B> <TT>setRunning(isRunning:Boolean):Boolean.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="getTickSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTickSize</h4>
<pre>public&nbsp;Double&nbsp;getTickSize()</pre>
<div class="block"><B>Declaration:</B> <TT>getTickSize():Double.</TT><PRE>
</PRE>See also <code>roundPrice()</code>.</div>
</li>
</ul>
<a name="setTickSize-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTickSize</h4>
<pre>public&nbsp;Double&nbsp;setTickSize(Double&nbsp;tickSize)</pre>
<div class="block"><B>Declaration:</B> <TT>setTickSize(tickSize:Double):Double.</TT><PRE>
</PRE>Note: <code>tickSize &lt;= 0.0</code> means no tick size.</div>
</li>
</ul>
<a name="roundPrice-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>roundPrice</h4>
<pre>public&nbsp;<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;roundPrice(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
<div class="block">Round the price of the order in increments of a tick size.
Modify <code>order</code> in place and return it.</div>
</li>
</ul>
<a name="roundBuyPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>roundBuyPrice</h4>
<pre>public&nbsp;Double&nbsp;roundBuyPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="roundSellPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>roundSellPrice</h4>
<pre>public&nbsp;Double&nbsp;roundSellPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="getNextMarketPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextMarketPrice</h4>
<pre>public&nbsp;Double&nbsp;getNextMarketPrice()</pre>
<div class="block">Return the next market price at t + 1.
If some transactions occur, the last transaction price will be the next market price.
Otherwise if the market has a mid price, it will be used.
Otherwise, the last market price is used.
This method does not change any internal state of this market;
Use <code>updateMarketPrice()</code> for this purpose.</div>
</li>
</ul>
<a name="tickUpdateMarketPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tickUpdateMarketPrice</h4>
<pre>public&nbsp;void&nbsp;tickUpdateMarketPrice()</pre>
</li>
</ul>
<a name="updateMarketPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMarketPrice</h4>
<pre>public&nbsp;void&nbsp;updateMarketPrice()</pre>
</li>
</ul>
<a name="updateMarketPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMarketPrice</h4>
<pre>public&nbsp;void&nbsp;updateMarketPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="updateFundamentalPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFundamentalPrice</h4>
<pre>public&nbsp;void&nbsp;updateFundamentalPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="setInitialMarketPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialMarketPrice</h4>
<pre>public&nbsp;void&nbsp;setInitialMarketPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="setInitialFundamentalPrice-Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInitialFundamentalPrice</h4>
<pre>public&nbsp;void&nbsp;setInitialFundamentalPrice(Double&nbsp;price)</pre>
</li>
</ul>
<a name="getPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrice</h4>
<pre>public&nbsp;Double&nbsp;getPrice()</pre>
</li>
</ul>
<a name="getPrice-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrice</h4>
<pre>public&nbsp;Double&nbsp;getPrice(Long&nbsp;t)</pre>
</li>
</ul>
<a name="getMarketPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarketPrice</h4>
<pre>public&nbsp;Double&nbsp;getMarketPrice()</pre>
</li>
</ul>
<a name="getMarketPrice-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarketPrice</h4>
<pre>public&nbsp;Double&nbsp;getMarketPrice(Long&nbsp;t)</pre>
</li>
</ul>
<a name="getFundamentalPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFundamentalPrice</h4>
<pre>public&nbsp;Double&nbsp;getFundamentalPrice()</pre>
</li>
</ul>
<a name="getFundamentalPrice-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFundamentalPrice</h4>
<pre>public&nbsp;Double&nbsp;getFundamentalPrice(Long&nbsp;t)</pre>
</li>
</ul>
<a name="getBuyOrderBook--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBuyOrderBook</h4>
<pre>public&nbsp;<a href="../plham/OrderBook.html" title="type parameter in OrderBook">OrderBook</a>&nbsp;getBuyOrderBook()</pre>
<div class="block"><B>Declaration:</B> <TT>getBuyOrderBook():plham.OrderBook.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="getSellOrderBook--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSellOrderBook</h4>
<pre>public&nbsp;<a href="../plham/OrderBook.html" title="type parameter in OrderBook">OrderBook</a>&nbsp;getSellOrderBook()</pre>
<div class="block"><B>Declaration:</B> <TT>getSellOrderBook():plham.OrderBook.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="getBestBuyPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestBuyPrice</h4>
<pre>public&nbsp;Double&nbsp;getBestBuyPrice()</pre>
<div class="block">Get the best (highest) buy/bid price.  NaN if no order.</div>
</li>
</ul>
<a name="getBestSellPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBestSellPrice</h4>
<pre>public&nbsp;Double&nbsp;getBestSellPrice()</pre>
<div class="block">Get the best (lowest) sell/ask price.  NaN if no order.</div>
</li>
</ul>
<a name="getMidPrice--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMidPrice</h4>
<pre>public&nbsp;Double&nbsp;getMidPrice()</pre>
<div class="block">Get the mid price, the average (middle) of the best buy/bid and sell/ask prices.</div>
</li>
</ul>
<a name="getOutstandingShares--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutstandingShares</h4>
<pre>public&nbsp;Long&nbsp;getOutstandingShares()</pre>
</li>
</ul>
<a name="setOutstandingShares-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOutstandingShares</h4>
<pre>public&nbsp;Long&nbsp;setOutstandingShares(Long&nbsp;outstandingShares)</pre>
<div class="block"><B>Declaration:</B> <TT>setOutstandingShares(outstandingShares:Long):Long.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="getTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTime</h4>
<pre>public&nbsp;Long&nbsp;getTime()</pre>
<div class="block"><B>Declaration:</B> <TT>getTime():Long.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="setTime-Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTime</h4>
<pre>public&nbsp;Long&nbsp;setTime(Long&nbsp;time)</pre>
<div class="block"><B>Declaration:</B> <TT>setTime(time:Long):Long.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="updateTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTime</h4>
<pre>public&nbsp;Long&nbsp;updateTime()</pre>
<div class="block"><B>Declaration:</B> <TT>updateTime():Long.</TT><PRE>
</PRE></div>
</li>
</ul>
<a name="check--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>public&nbsp;void&nbsp;check()</pre>
</li>
</ul>
<a name="executeBuyOrders-plham.Order-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeBuyOrders</h4>
<pre>protected&nbsp;void&nbsp;executeBuyOrders(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder,
                                <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder)</pre>
</li>
</ul>
<a name="executeSellOrders-plham.Order-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeSellOrders</h4>
<pre>protected&nbsp;void&nbsp;executeSellOrders(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder,
                                 <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder)</pre>
</li>
</ul>
<a name="executeOrders-Double-plham.Order-plham.Order-Boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeOrders</h4>
<pre>protected&nbsp;void&nbsp;executeOrders(Double&nbsp;price,
                             <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;buyOrder,
                             <a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;sellOrder,
                             Boolean&nbsp;isSellMajor)</pre>
<div class="block">Exchange the cash and assets between the buyer and seller.
The 1st argument <code>price</code> is used to exchange.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isSellMajor</code> - is an aux information:
       true if the exchange price is determined by an order on the sell orderbook (seller).</dd>
</dl>
</li>
</ul>
<a name="handleAgentUpdate-plham.Market.AgentUpdate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleAgentUpdate</h4>
<pre>public&nbsp;void&nbsp;handleAgentUpdate(<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&nbsp;update)</pre>
</li>
</ul>
<a name="executeAgentUpdates-Listplham.Agent:A-Listplham.Market.AgentUpdate:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeAgentUpdates</h4>
<pre>public&nbsp;void&nbsp;executeAgentUpdates(List&lt;<a href="../plham/Agent.html" title="class in plham">Agent</a>&gt;&nbsp;agents,
                                List&lt;<a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&gt;&nbsp;updates)</pre>
</li>
</ul>
<a name="executeAgentUpdate-Listplham.Agent:A-plham.Market.AgentUpdate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeAgentUpdate</h4>
<pre>public&nbsp;void&nbsp;executeAgentUpdate(List&lt;<a href="../plham/Agent.html" title="class in plham">Agent</a>&gt;&nbsp;agents,
                               <a href="../plham/Market.AgentUpdate.html" title="class in plham">Market.AgentUpdate</a>&nbsp;update)</pre>
</li>
</ul>
<a name="addBeforeOrderHandlingEvent-plham.Market.OrderEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBeforeOrderHandlingEvent</h4>
<pre>public&nbsp;Boolean&nbsp;addBeforeOrderHandlingEvent(<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&nbsp;e)</pre>
</li>
</ul>
<a name="addAfterOrderHandlingEvent-plham.Market.OrderEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAfterOrderHandlingEvent</h4>
<pre>public&nbsp;Boolean&nbsp;addAfterOrderHandlingEvent(<a href="../plham/Market.OrderEvent.html" title="interface in plham">Market.OrderEvent</a>&nbsp;e)</pre>
</li>
</ul>
<a name="addBeforeSimulationStepEvent-plham.Market.MarketEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addBeforeSimulationStepEvent</h4>
<pre>public&nbsp;Boolean&nbsp;addBeforeSimulationStepEvent(<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&nbsp;e)</pre>
</li>
</ul>
<a name="addAfterSimulationStepEvent-plham.Market.MarketEvent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAfterSimulationStepEvent</h4>
<pre>public&nbsp;Boolean&nbsp;addAfterSimulationStepEvent(<a href="../plham/Market.MarketEvent.html" title="interface in plham">Market.MarketEvent</a>&nbsp;e)</pre>
</li>
</ul>
<a name="triggerBeforeOrderHandlingEvents-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerBeforeOrderHandlingEvents</h4>
<pre>public&nbsp;void&nbsp;triggerBeforeOrderHandlingEvents(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
</li>
</ul>
<a name="triggerAfterOrderHandlingEvents-plham.Order-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerAfterOrderHandlingEvents</h4>
<pre>public&nbsp;void&nbsp;triggerAfterOrderHandlingEvents(<a href="../plham/Order.html" title="class in plham">Order</a>&nbsp;order)</pre>
</li>
</ul>
<a name="triggerBeforeSimulationStepEvents--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerBeforeSimulationStepEvents</h4>
<pre>public&nbsp;void&nbsp;triggerBeforeSimulationStepEvents()</pre>
</li>
</ul>
<a name="triggerAfterSimulationStepEvents--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>triggerAfterSimulationStepEvents</h4>
<pre>public&nbsp;void&nbsp;triggerAfterSimulationStepEvents()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../plham/Main.html" title="class in plham"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../plham/Market.AgentUpdate.html" title="class in plham"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?plham/Market.html" target="_top">Frames</a></li>
<li><a href="Market.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
